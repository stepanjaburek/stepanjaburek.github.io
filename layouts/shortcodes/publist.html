{{/* layouts/shortcodes/publist.html
     Usage: {{< publist section="published" title="Published Work" >}}
*/}}
{{ $section := .Get "section" | default "published" }}
{{ $title := .Get "title" | default (humanize $section) }}
{{ $page := .Site.GetPage (printf "publication/%s" $section) }}

<h2>{{ $title }}</h2>

{{ if and $page (gt (len $page.RegularPages) 0) }}
<ul>
  {{ range $page.RegularPages.ByDate.Reverse }}
  <li>{{ .Title }}</li>
  {{- end }}
</ul>
{{ else }}
<p><em>No items found.</em></p>
{{ end }}